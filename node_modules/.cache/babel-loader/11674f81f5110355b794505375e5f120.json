{"ast":null,"code":"var _jsxFileName = \"/Users/jmartinez/videogames/frontend/src/components/home/CreateVideogame.js\";\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport MY_SERVICES from '../../services';\nimport handleAsync from '../../utils/handleAsync';\n\nfunction CreateVideogame() {\n  const history = useHistory();\n  const [form, setForm] = useState({});\n  const [img, setImg] = useState('');\n\n  const handleInput = e => {\n    e.persist();\n    setForm(prevState => ({ ...prevState,\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const handleImage = async e => {\n    const formData = new FormData();\n    formData.append('photo', e.target.files[0]);\n    const response = await handleAsync(() => MY_SERVICES.upload(formData));\n    setImg(response.img);\n  };\n\n  const submit = e => {\n    e.persist();\n    form.isActive === 'on' ? form.isActive = true : form.isActive = false;\n    const data = { ...form,\n      image: img\n    };\n    MY_SERVICES.addVideogame(data).then(({\n      data\n    }) => {\n      console.log(data);\n      history.push(\"/\");\n    }).catch(err => console.log(err.response));\n  };\n\n  console.log(form);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, \"Add a Videogame\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    onChange: handleInput,\n    name: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    pattern: \"^[\\\\s\\\\S]{0,300}$\",\n    onChange: handleInput,\n    name: \"description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"developer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, \"Developer\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"select\",\n    onChange: handleInput,\n    name: \"developer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"year\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, \"Year\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    pattern: \"/^[0-9]$/\",\n    onChange: handleInput,\n    name: \"year\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"console\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, \"Console\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    onChange: handleInput,\n    name: \"console\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, \"Image\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleImage,\n    type: \"file\",\n    id: \"photo\",\n    name: \"photo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"isActive\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, \"Active\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    onChange: handleInput,\n    name: \"isActive\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    onClick: submit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }))));\n}\n\nexport default CreateVideogame;","map":{"version":3,"sources":["/Users/jmartinez/videogames/frontend/src/components/home/CreateVideogame.js"],"names":["React","useState","useHistory","MY_SERVICES","handleAsync","CreateVideogame","history","form","setForm","img","setImg","handleInput","e","persist","prevState","target","name","value","handleImage","formData","FormData","append","files","response","upload","submit","isActive","data","image","addVideogame","then","console","log","push","catch","err"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,WAAP,MAAyB,gBAAzB;AACA,OAAOC,WAAP,MAAwB,yBAAxB;;AAEA,SAASC,eAAT,GAA2B;AACzB,QAAMC,OAAO,GAAGJ,UAAU,EAA1B;AACA,QAAM,CAACK,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACQ,GAAD,EAAMC,MAAN,IAAgBT,QAAQ,CAAC,EAAD,CAA9B;;AACA,QAAMU,WAAW,GAAIC,CAAD,IAAO;AACzBA,IAAAA,CAAC,CAACC,OAAF;AACAL,IAAAA,OAAO,CAAEM,SAAD,KAAgB,EACtB,GAAGA,SADmB;AAEtB,OAACF,CAAC,CAACG,MAAF,CAASC,IAAV,GAAiBJ,CAAC,CAACG,MAAF,CAASE;AAFJ,KAAhB,CAAD,CAAP;AAID,GAND;;AAOA,QAAMC,WAAW,GAAG,MAAMN,CAAN,IAAW;AAC7B,UAAMO,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBT,CAAC,CAACG,MAAF,CAASO,KAAT,CAAe,CAAf,CAAzB;AACA,UAAMC,QAAQ,GAAG,MAAMnB,WAAW,CAAC,MAAMD,WAAW,CAACqB,MAAZ,CAAmBL,QAAnB,CAAP,CAAlC;AACAT,IAAAA,MAAM,CAACa,QAAQ,CAACd,GAAV,CAAN;AACD,GALD;;AAMA,QAAMgB,MAAM,GAAIb,CAAD,IAAO;AACpBA,IAAAA,CAAC,CAACC,OAAF;AACAN,IAAAA,IAAI,CAACmB,QAAL,KAAkB,IAAlB,GAAyBnB,IAAI,CAACmB,QAAL,GAAgB,IAAzC,GAAgDnB,IAAI,CAACmB,QAAL,GAAgB,KAAhE;AACA,UAAMC,IAAI,GAAG,EACX,GAAGpB,IADQ;AAEXqB,MAAAA,KAAK,EAAEnB;AAFI,KAAb;AAKAN,IAAAA,WAAW,CAAC0B,YAAZ,CAAyBF,IAAzB,EACGG,IADH,CACQ,CAAC;AAAEH,MAAAA;AAAF,KAAD,KAAc;AAClBI,MAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ;AACArB,MAAAA,OAAO,CAAC2B,IAAR,CAAa,GAAb;AACD,KAJH,EAKGC,KALH,CAKUC,GAAD,IAASJ,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACZ,QAAhB,CALlB;AAMD,GAdD;;AAgBAQ,EAAAA,OAAO,CAACC,GAAR,CAAYzB,IAAZ;AAEA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,CADF,eAII;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAO,IAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADA,eAEA;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,QAAQ,EAAEI,WAA7B;AAA0C,IAAA,IAAI,EAAC,MAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFA,eAGA;AAAO,IAAA,OAAO,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAHA,eAIA;AAAU,IAAA,OAAO,EAAC,mBAAlB;AAAoC,IAAA,QAAQ,EAAEA,WAA9C;AAA2D,IAAA,IAAI,EAAC,aAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJA,eAKA;AAAO,IAAA,OAAO,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBALA,eAMA;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,QAAQ,EAAEA,WAA/B;AAA4C,IAAA,IAAI,EAAC,WAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANA,eAOA;AAAO,IAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAPA,eAQA;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,OAAO,EAAC,WAA7B;AAAyC,IAAA,QAAQ,EAAEA,WAAnD;AAAgE,IAAA,IAAI,EAAC,MAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARA,eASA;AAAO,IAAA,OAAO,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eATA,eAUA;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,QAAQ,EAAEA,WAA7B;AAA0C,IAAA,IAAI,EAAC,SAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVA,eAWA;AAAO,IAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAXA,eAYA;AAAO,IAAA,QAAQ,EAAEO,WAAjB;AAA8B,IAAA,IAAI,EAAC,MAAnC;AAA0C,IAAA,EAAE,EAAC,OAA7C;AAAqD,IAAA,IAAI,EAAC,OAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZA,eAaA;AAAO,IAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAbA,eAcA;AAAO,IAAA,IAAI,EAAC,UAAZ;AAAuB,IAAA,QAAQ,EAAEP,WAAjC;AAA8C,IAAA,IAAI,EAAC,UAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAdA,eAeA;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAsB,IAAA,OAAO,EAAEc,MAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAfA,CADA,CAJJ,CADF;AA2BD;;AAED,eAAepB,eAAf","sourcesContent":["import React, {useState} from 'react';\nimport { useHistory } from 'react-router-dom';\nimport MY_SERVICES  from '../../services'\nimport handleAsync from '../../utils/handleAsync';\n\nfunction CreateVideogame() {\n  const history = useHistory()\n  const [form, setForm] = useState({});\n  const [img, setImg] = useState('')\n  const handleInput = (e) => {\n    e.persist();\n    setForm((prevState) => ({\n      ...prevState,\n      [e.target.name]: e.target.value,\n    }));\n  };\n  const handleImage = async e => {\n    const formData = new FormData()\n    formData.append('photo', e.target.files[0])\n    const response = await handleAsync(()=>  MY_SERVICES.upload(formData))\n    setImg(response.img)\n  }\n  const submit = (e) => {\n    e.persist();\n    form.isActive === 'on' ? form.isActive = true : form.isActive = false\n    const data = {\n      ...form,\n      image: img,\n    };\n\n    MY_SERVICES.addVideogame(data)\n      .then(({ data }) => {\n        console.log(data)\n        history.push(\"/\");\n      })\n      .catch((err) => console.log(err.response));\n  };\n\n  console.log(form)\n\n  return (\n    <div >\n      <div className=\"header\">\n        <h2>Add a Videogame</h2>\n      </div>\n        <div className=\"form\">\n        <form>\n        <label htmlFor=\"name\">Name</label>\n        <input type=\"text\" onChange={handleInput} name=\"name\"  />\n        <label htmlFor=\"description\">Description</label>\n        <textarea pattern=\"^[\\s\\S]{0,300}$\" onChange={handleInput} name=\"description\"/>\n        <label htmlFor=\"developer\">Developer</label>\n        <input type=\"select\" onChange={handleInput} name=\"developer\"/>\n        <label htmlFor=\"year\">Year</label>\n        <input type=\"number\" pattern=\"/^[0-9]$/\" onChange={handleInput} name=\"year\"/>\n        <label htmlFor=\"console\">Console</label>\n        <input type=\"text\" onChange={handleInput} name=\"console\"/>\n        <label htmlFor=\"image\">Image</label>\n        <input onChange={handleImage} type=\"file\" id=\"photo\" name=\"photo\"/>\n        <label htmlFor=\"isActive\">Active</label>\n        <input type=\"checkbox\" onChange={handleInput} name=\"isActive\"/>\n        <input type=\"submit\"  onClick={submit}/>\n        </form>\n        </div>\n    \n    </div>\n  );\n}\n\nexport default CreateVideogame;\n"]},"metadata":{},"sourceType":"module"}